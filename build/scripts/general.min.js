"use strict";const projectOptions={states:{},maskes:{},error:{default:"Ошибка при отправке данных! Пожалуйста, попробуйте позже.",request:'Ошибка при отправке данных! Пожалуйста, свяжитесь с нами по телефону <a class="customLink customLink_light" href="tel:88005112733"><nobr>8 (800) 511-27-33</nobr></a>'},onClick:[]};let burg=document.querySelector(".js-burger"),menu=document.querySelector(".js-header-menu");function showMobileMenu(){if(!burg)return!1;burg.addEventListener("click",(function(){menu.classList.add("show")}))}function useDynamicAdapt(e="max"){const t="_dynamic_adapt_",i="data-da",n=function(){const t=[];return[...document.querySelectorAll(`[${i}]`)].forEach((e=>{const n=e.getAttribute(i),[o,s,r]=n.split(",").map((e=>e.trim())),a=document.querySelector(o);var d;a&&t.push({parent:e.parentElement,element:e,to:a,breakpoint:s??"767",order:void 0!==r?(d=r,isNaN(d)?r:Number(r)):"last",index:-1})})),function(t){const i="min"===e?1:0;return[...t].sort(((e,t)=>e.breakpoint===t.breakpoint?e.order===t.order?0:"first"===e.order||"last"===t.order?-1*i:"last"===e.order||"first"===t.order?1*i:0:(e.breakpoint-t.breakpoint)*i))}(t)}();[...new Set(n.map((({breakpoint:t})=>`(${e}-width: ${t}px),${t}`)))].map((e=>{const[t,i]=e.split(",");return{query:t,breakpoint:i}})).forEach((e=>{const i=window.matchMedia(e.query),o=function(e,i){return function(){e.matches?(i.forEach((e=>{!function(e){const{to:i,element:n,order:o}=e;if(e.index=function(e,t){return[...t.children].indexOf(e)}(e.element,e.element.parentElement),n.classList.add(t),"last"===o||o>=i.children.length)return void i.append(n);if("first"===o)return void i.prepend(n);i.children[o].before(n)}(e)})),i.reverse()):(i.forEach((e=>{e.element.classList.contains(t)&&function(e){const{parent:i,element:n,index:o}=e;n.classList.remove(t),o>=0&&i.children[o]?i.children[o].before(n):i.append(n)}(e)})),i.reverse())}}(i,n.filter((({breakpoint:t})=>t===e.breakpoint)));i.addEventListener("change",o),o()}))}document.addEventListener("click",(e=>{if(menu.classList.contains("show")){const t=e.composedPath().includes(menu),i=e.composedPath().includes(burg);t||i||menu.classList.remove("show")}return!1}));let headerSearch=document.querySelector(".header__search"),headerSearchClose=document.querySelector(".header__search-close"),searchBtn=document.querySelector(".headerActions__btn_search"),page=document.querySelector(".page"),body=document.querySelector("body");function headerFixed(){let e=document.querySelector("body"),t=document.querySelector("header"),i=document.querySelector(".js-first-screen");if(!i)return!1;let n=i.offsetHeight,o=t.offsetHeight,s=o+n;window.pageYOffset>s?(t.classList.add("fixed"),e.style.paddingTop=o+"px"):(t.classList.remove("fixed"),e.style.paddingTop="")}window.addEventListener("load",(function(){searchBtn.addEventListener("click",(function(){headerSearch.classList.add("is-open"),page.classList.add("is-bg"),body.classList.add("is-hidden")})),headerSearchClose.addEventListener("click",(function(){headerSearch.classList.remove("is-open"),page.classList.remove("is-bg"),body.classList.remove("is-hidden")}))})),window.addEventListener("scroll",(function(){headerFixed()}));const breadcrumbs=()=>{const e=".js-breadcrumbs",t=document.querySelector(e);if(!t)return;const i=t.querySelector("[data-list]"),n=t.querySelector("[data-inside]"),o=i&&i.querySelectorAll("[data-item]"),s=i&&i.querySelector('[data-item="toggle"]');if(!o||!n||!o[0])return void t.classList.add("all-hide");const r={};function a(e,t){n.classList.contains("show")||"hide"===t?(toggleVisibility(n,"hide"),n.classList.remove("show")):(toggleVisibility(n,"show"),n.classList.add("show"))}function d(){let e=Math.ceil(i.getBoundingClientRect().width)-r.main-r.current,s=!1;e<r.link&&(e-=r.dots,s=!0);let a=0;for(let t=o.length-1;t>=0;t--){const i=o[t],r=i.getAttribute("data-item");if("dots"===r&&(s?(i.classList.remove("hide"),n.classList.remove("hide")):(i.classList.add("hide"),n.classList.add("hide"))),"link"===r){const t=i.getAttribute("data-index"),o=i.getAttribute("data-width"),s=n.querySelector('[data-item="'+t+'"]');o<e?(a++,e-=o,i.classList.remove("hide"),s&&s.classList.add("hide")):(i.classList.add("hide"),s&&s.classList.remove("hide"))}}a<1?t.classList.add("all-hide"):t.classList.remove("all-hide")}o.forEach((e=>{const t=Math.ceil(e.getBoundingClientRect().width),i=e.getAttribute("data-item");e.setAttribute("data-width",t),void 0!==r[i]?r[i]+=t:r[i]=t})),d(),s&&s.addEventListener("click",a),projectOptions.onClick.push((t=>{!t.closest(e)&&a(null,"hide")})),window.addEventListener("resize",throttle(d,150))};let controls=document.querySelectorAll("[data-title]");window.addEventListener("load",(function(){controls[0]&&controls.forEach((e=>{e.addEventListener("click",(function(){e.classList.toggle("is-active")}))}))}));const throttle=(e,t)=>{console.log("sdaws");let i=null;return function(...n){i||(i=setTimeout((()=>{e(...n),clearTimeout(i),i=null}),t))}},toggleVisibility=(e,t="auto",i={},n)=>{if(!e)return!1;const o=Object.assign({display:"block",changeHeight:!0,changeOpacity:!0,animation:"ease-in-out",timeout:200,styles:""},i),s=`all ${o.timeout}ms ${o.animation}`,r=function(e){const t=e.getBoundingClientRect(),i=t.height||t.bottom-t.top,n=t.width||t.right-t.left;return!!i||!!n}(e);if(o._targetVisible="show"===t||"hide"!==t&&!r,o._targetVisible===r)return!1;if(o.styles&&e.setAttribute("style",o.styles),o._targetVisible){if(e.style.visibility="hidden",e.style.overflow="hidden",e.style.display=o.display,o.changeOpacity&&(e.style.opacity="0"),o.changeHeight){const t=d(e);o._h=t.h,o._pt=t.pt,o._pb=t.pb,o._mt=t.mt,o._mb=t.mb,o._btw=t.btw,o._bbw=t.bbw,e.style.height="0",e.style.marginTop="0",e.style.paddingTop="0",e.style.marginBottom="0",e.style.paddingBottom="0",e.style.borderTopWidth="0",e.style.borderBottomWidth="0"}setTimeout((function(){e.style.transition=s,e.style.visibility="visible"}),0)}else{if(o.changeOpacity&&(e.style.opacity="1"),o.changeHeight){const t=d(e);e.style.height=t.h+"px",e.style.marginTop=t.mt+"px",e.style.paddingTop=t.pt+"px",e.style.marginBottom=t.mb+"px",e.style.paddingBottom=t.pb+"px",e.style.borderTopWidth=t.btw+"px",e.style.borderBottomWidth=t.bbw+"px"}setTimeout((function(){e.style.overflow="hidden",e.style.transition=s}),0)}function a(e,t){return parseInt(getComputedStyle(e)[t],10)}function d(e){return{h:e.offsetHeight,mt:a(e,"marginTop"),pt:a(e,"paddingTop"),mb:a(e,"marginBottom"),pb:a(e,"paddingBottom"),btw:a(e,"borderTopWidth"),bbw:a(e,"borderBottomWidth")}}return setTimeout((function(){o.changeOpacity&&(e.style.opacity=o._targetVisible?"1":"0"),o.changeHeight&&(e.style.height=o._targetVisible?o._h+"px":"0",e.style.marginTop=o._targetVisible?o._mt+"px":"0",e.style.paddingTop=o._targetVisible?o._pt+"px":"0",e.style.marginBottom=o._targetVisible?o._mb+"px":"0",e.style.paddingBottom=o._targetVisible?o._pb+"px":"0",e.style.borderTopWidth=o._targetVisible?o._btw+"px":"0",e.style.borderBottomWidth=o._targetVisible?o._bbw+"px":"0")}),15),setTimeout((function(){e.setAttribute("style",(o._targetVisible?"display:"+o.display+";":"display:none;")+o.styles),"function"==typeof n&&n()}),o.timeout),!0},initImages=()=>{"function"==typeof lozad&&lozad(".lozad").observe()},initLazyLoadBlock=function(){lozad(".js-lazy-load-block",{load:function(e){const t=e.getAttribute("data-url");t&&axios.get(t).then((function(t){const i=t.data;e.classList.remove("loading"),i.error?(e.classList.add("error"),e.innerHTML='<div class="container">'+i.error+"</div>",console.warn(i.error)):(e.innerHTML=t.data,initDefaultElements())})).catch((function(t){e.classList.remove("loading"),e.classList.add("error"),e.innerHTML='<div class="container">'+projectOptions.error.default+"</div>",console.warn(t)}))}}).observe()},initDefaultElements=function(e){initImages()},pageReady=function(e){initLazyLoadBlock(),initDefaultElements(e),showMobileMenu(),useDynamicAdapt(),breadcrumbs()};document.addEventListener("DOMContentLoaded",pageReady);
//# sourceMappingURL=general.min.js.map
