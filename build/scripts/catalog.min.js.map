{"version":3,"sources":["helpers/collapseText.js","components/base/item-card.js","catalog.js"],"names":["collapseChildItems","selector","setOptions","blocks","document","querySelectorAll","console","log","options","children","targetHeight","targetCount","reduceHeight","buttonClass","buttonMore","buttonLess","i","length","block","initCollapseHeight","initEvents","initCollapseItems","offsetHeight","htmlStructure","querySelector","style","height","childrens","classList","add","addClass","innerHTML","content","button","htmlContent","action","addEventListener","e","preventDefault","contains","remove","wrap","contentHeight","setTimeout","wrapHeight","bindCardSlider","sliderNode","Swiper","pagination","el","clickable","bindLikeBtn","btnNode","id","favHeaderBtn","target","fetch","then","resp","json","success","Error","undefined","count","isNaN","setAttribute","String","currentItem","closest","catch","err","bindCompareBtn","headerCompareBtn","bindCartBtn","name","headerBasketBtn","Fancybox","show","src","type","bindItemCard","itemCardNode","itemId","getAttribute","innerText","cartBtn","itemsSlider","slidesPerView","spaceBetween","breakpoints","bindPerPageSelect","selectNode","NiceSelect","bind","bindSortSelect","params","URLSearchParams","window","location","search","set","value","toString","localStorage","setItem","pathname","bindFilterShowButton","filterNode","showBtn","initialBtnText","toggle","toLowerCase","scrollToCatalog","flag","getItem","catalogNode","scrollIntoView","behavior","removeItem","bindFilterPrice","noUiSlider","create","start","Number","connect","step","range","min","max","inputMin","inputMax","on","values","handle","Math","round","this","bindSectionsListAdaptive","node","matchMedia","matches","ADAPTIVE_SUBSECTIONS_FLAG","select","createElement","list","activeEl","append","cloneNode","btnClose","after","bindFiltersAdaptive","btn","sidebar","display","closeSidebar","removeEventListener","bindFilterChange","inputs","map","input","visibility","opacity","cardItemNode","itemsSliderNode"],"mappings":"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","file":"catalog.min.js","sourcesContent":["const collapseChildItems = function (selector, setOptions) {\n    if (!selector) {\n        return false;\n    }\n\n    const blocks = document.querySelectorAll(selector + ':not(.collapseElement)');\n\n    console.log(blocks)\n\n    const options = {\n        children: setOptions.children || '*',                   // html selector (string)\n        targetHeight: setOptions.targetHeight || null,          // height block (number)\n        targetCount: setOptions.targetCount || null,            // count childrens (number)\n        reduceHeight: setOptions.reduceHeight || 0,             // value reduce height (number)\n        buttonClass: setOptions.buttonClass || '',              // button (string)\n        buttonMore: setOptions.buttonMore || 'Смотреть еще',    // button (string)\n        buttonLess: setOptions.buttonLess || 'Скрыть',          // button (string)\n    }\n\n    if (!blocks[0]) return false;\n\n    for (let i = 0; i < blocks.length; i++) {\n        const block = blocks[i];\n        if (options.targetHeight !== null) {\n            initCollapseHeight(block);\n            initEvents(block, 'height');\n        } else if (options.targetCount !== null) {\n            initCollapseItems(block);\n            initEvents(block, 'count');\n        }\n    }\n\n    function initCollapseHeight(block) {\n        const blockHeight = block.offsetHeight;\n\n        if (blockHeight > options.targetHeight) {\n            htmlStructure(block, 'collapseElement_height');\n\n            block.querySelector('[data-collapse-element-wrap]').style.height = options.targetHeight - options.reduceHeight + 'px';\n        }\n    }\n\n    function initCollapseItems(block) {\n        if (block.querySelectorAll(options.children).length > options.targetCount) {\n            htmlStructure(block);\n\n            const childrens = block.querySelectorAll(options.children); // !!! important after fn htmlStructure\n\n            for (let i = 0; i < childrens.length; i++) {\n                if (i + 1 > options.targetCount) {\n                    childrens[i].classList.add('collapseElement__hidden');\n                }\n            }\n        }\n    }\n\n    function htmlStructure(block, addClass) {\n        block.classList.add('collapseElement', 'collapseElement_hide');\n        addClass && block.classList.add(addClass);\n        block.innerHTML = htmlContent(block);\n    }\n\n    function htmlContent(block) {\n        const content = '<div class=\"collapseElement__content\" data-collapse-element-content>' + block.innerHTML + '</div>';\n        const button = '<button class=\"collapseElement__button ' + options.buttonClass + '\" type=\"button\" data-collapse-element-button><span>' + options.buttonMore + '</span><span>' + options.buttonLess + '</span></button>';\n        const newContent = '<div class=\"collapseElement__wrap\" data-collapse-element-wrap>' + content + '</div>' + button;\n\n        return newContent;\n    }\n\n    function initEvents(block, action) {\n        const button = block.querySelector('[data-collapse-element-button]');\n\n        button && button.addEventListener('click', function (e) {\n            e.preventDefault();\n            if (block.classList.contains('collapseElement_hide')) {\n                block.classList.remove('collapseElement_hide');\n                if (action === 'height') {\n                    const wrap = block.querySelector('[data-collapse-element-wrap]');\n                    const contentHeight = block.querySelector('[data-collapse-element-content]').offsetHeight;\n                    wrap.style.height = contentHeight + 'px';\n                    setTimeout(function () {\n                        wrap.style.height = 'auto';\n                    }, 200);\n                }\n            } else {\n                block.classList.add('collapseElement_hide');\n                if (action === 'height') {\n                    const wrap = block.querySelector('[data-collapse-element-wrap]');\n                    const wrapHeight = wrap.offsetHeight;\n                    wrap.style.height = wrapHeight + 'px';\n                    setTimeout(function () {\n                        wrap.style.height = options.targetHeight - options.reduceHeight + 'px';\n                    }, 0)\n                }\n            }\n        });\n    }\n}","const bindCardSlider = (sliderNode) => {\n    if (!sliderNode || !sliderNode.classList.contains('swiper')) {\n        return false;\n    }\n\n    if (!!Swiper) {\n        return new Swiper(sliderNode, {\n            pagination: {\n                el: \".swiper-pagination\", clickable: true,\n            },\n        })\n    }\n}\n\nconst bindLikeBtn = (btnNode, id) => {\n    if (!btnNode || !id) {\n        return false;\n    }\n\n    const favHeaderBtn = document.querySelector('.headerActions__btn_favorites')\n\n    btnNode.addEventListener('click', (e) => {\n        e.preventDefault();\n\n        if (e.target.classList.contains('item-card__like_liked')) {\n            fetch(`/ajax/favorites.php?id=${id}&delete=Y`)\n                .then((resp) => resp.json())\n                .then((resp) => {\n                    if (resp.success) {\n                        e.target.classList.remove('item-card__like_liked');\n                        if (resp.count !== undefined && favHeaderBtn) {\n                            if (!isNaN(resp.count)) {\n                                favHeaderBtn.setAttribute('data-count', String(resp.count))\n                            }\n                        }\n\n                        const isFav = document.querySelector('.catalog_favorites')\n\n                        if (isFav) {\n                            const currentItem = e.target.closest('.catalog__item');\n\n                            if (currentItem) {\n                                currentItem.remove()\n                            }\n                        }\n\n                    } else {\n                        throw new Error('Серверная ошибка удаления товара из понравившихся')\n                    }\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n        } else {\n            fetch(`/ajax/favorites.php?id=${id}`)\n                .then((resp) => resp.json())\n                .then((resp) => {\n                    if (resp.success) {\n                        e.target.classList.add('item-card__like_liked');\n                        if (resp.count !== undefined && favHeaderBtn) {\n                            if (!isNaN(resp.count)) {\n                                favHeaderBtn.setAttribute('data-count', String(resp.count))\n                            }\n                        }\n                    } else {\n                        throw new Error('Серверная ошибка добавления товара в понравившиеся')\n                    }\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n        }\n    })\n}\n\nconst bindCompareBtn = (btnNode, id) => {\n    if (!btnNode || !id) {\n        return false;\n    }\n\n    const headerCompareBtn = document.querySelector('.headerActions__btn_compare');\n\n    btnNode.addEventListener('click', (e) => {\n        e.preventDefault();\n\n        if (e.target.classList.contains('item-card__compare_compared')) {\n            fetch(`/ajax/compare.php?id=${id}&delete=Y`)\n                .then((resp) => resp.json())\n                .then((resp) => {\n                    if (resp.success) {\n                        e.target.classList.remove('item-card__compare_compared')\n                        if (resp.count !== undefined && headerCompareBtn && !isNaN(resp.count)) {\n                            headerCompareBtn.setAttribute('data-count', String(resp.count))\n                        }\n                    } else {\n                        throw new Error('Серверная ошибка удаления товара из сравнения')\n                    }\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n        } else {\n            //todo: здесь вставить запрос на добавление в сравнение\n            fetch(`/ajax/compare.php?id=${id}`)\n                .then((resp) => resp.json())\n                .then((resp) => {\n                    if (resp.success) {\n                        e.target.classList.add('item-card__compare_compared')\n                        if (resp.count !== undefined && headerCompareBtn && !isNaN(resp.count)) {\n                            headerCompareBtn.setAttribute('data-count', String(resp.count))\n                        }\n                    } else {\n                        throw new Error('Серверная ошибка добавления товара в сравнение')\n                    }\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n        }\n    })\n}\n\nconst bindCartBtn = (btnNode, id, name) => {\n    if (!btnNode || !id) {\n        return false;\n    }\n\n    const headerBasketBtn = document.querySelector('.headerActions__btn_basket');\n\n    btnNode.addEventListener('click', (e) => {\n        e.preventDefault();\n\n        if (e.target.classList.contains('item-card__cart_in-cart')) {\n\n            fetch(`/ajax/basket.php?id=${id}&delete=Y`)\n                .then((resp) => resp.json())\n                .then((resp) => {\n                    if (resp.success) {\n                        e.target.classList.remove('item-card__cart_in-cart');\n                        if (resp.count !== undefined && headerBasketBtn) {\n                            if (!isNaN(resp.count)) {\n                                headerBasketBtn.setAttribute('data-count', String(resp.count))\n                            }\n                        }\n                    } else {\n                        throw new Error('Серверная ошибка удаления товара из корзины')\n                    }\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n        } else {\n\n            fetch(`/ajax/basket.php?id=${id}&count=1&json=1`)\n                .then((resp) => resp.json())\n                .then((resp) => {\n                    if (resp.success) {\n                        e.target.classList.add('item-card__cart_in-cart');\n                        Fancybox.show([{\n                            src: `<div class=\"modal-cart-confirmation\">\n<div>Товар <b>\"${name}\"</b> добавлен в корзину.</div>\n<div class=\"modal-cart-confirmation__buttons\">\n<a href=\"/basket/\">Перейти в корзину</a>\n<div class=\"is-close-btn\" onclick=\"Fancybox.close()\">Продолжить покупки</div>\n</div>\n</div>`, type: \"html\",\n                        },]);\n                        if (resp.count !== undefined && headerBasketBtn) {\n                            if (!isNaN(resp.count)) {\n                                headerBasketBtn.setAttribute('data-count', String(resp.count))\n                            }\n                        }\n                    } else {\n                        throw new Error('Серверная ошибка добавления товара в корзину')\n                    }\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n        }\n    })\n}\n\nconst bindItemCard = (itemCardNode) => {\n    if (!itemCardNode) {\n        return false;\n    }\n\n    const itemId = itemCardNode.getAttribute('data-item-id');\n\n    bindCardSlider(itemCardNode.querySelector('.swiper'));\n\n    bindLikeBtn(itemCardNode.querySelector('.js-item-card-like'), itemId);\n\n    bindCompareBtn(itemCardNode.querySelector('.js-item-card-compare'), itemId);\n\n    let name\n\n    if(!itemCardNode.classList.contains('card')){\n        name = itemCardNode.querySelector('.item-card__name').innerText;\n    }else{\n        name = document.querySelector('.page-title_card h1').innerText;\n    }\n\n    for (const cartBtn of itemCardNode.querySelectorAll('.js-item-card-cart')) {\n        bindCartBtn(cartBtn, itemId, name)\n    }\n\n}","const collapseChildItems = function (selector, setOptions) {\n    if (!selector) {\n        return false;\n    }\n\n    const blocks = document.querySelectorAll(selector + ':not(.collapseElement)');\n\n    console.log(blocks)\n\n    const options = {\n        children: setOptions.children || '*',                   // html selector (string)\n        targetHeight: setOptions.targetHeight || null,          // height block (number)\n        targetCount: setOptions.targetCount || null,            // count childrens (number)\n        reduceHeight: setOptions.reduceHeight || 0,             // value reduce height (number)\n        buttonClass: setOptions.buttonClass || '',              // button (string)\n        buttonMore: setOptions.buttonMore || 'Смотреть еще',    // button (string)\n        buttonLess: setOptions.buttonLess || 'Скрыть',          // button (string)\n    }\n\n    if (!blocks[0]) return false;\n\n    for (let i = 0; i < blocks.length; i++) {\n        const block = blocks[i];\n        if (options.targetHeight !== null) {\n            initCollapseHeight(block);\n            initEvents(block, 'height');\n        } else if (options.targetCount !== null) {\n            initCollapseItems(block);\n            initEvents(block, 'count');\n        }\n    }\n\n    function initCollapseHeight(block) {\n        const blockHeight = block.offsetHeight;\n\n        if (blockHeight > options.targetHeight) {\n            htmlStructure(block, 'collapseElement_height');\n\n            block.querySelector('[data-collapse-element-wrap]').style.height = options.targetHeight - options.reduceHeight + 'px';\n        }\n    }\n\n    function initCollapseItems(block) {\n        if (block.querySelectorAll(options.children).length > options.targetCount) {\n            htmlStructure(block);\n\n            const childrens = block.querySelectorAll(options.children); // !!! important after fn htmlStructure\n\n            for (let i = 0; i < childrens.length; i++) {\n                if (i + 1 > options.targetCount) {\n                    childrens[i].classList.add('collapseElement__hidden');\n                }\n            }\n        }\n    }\n\n    function htmlStructure(block, addClass) {\n        block.classList.add('collapseElement', 'collapseElement_hide');\n        addClass && block.classList.add(addClass);\n        block.innerHTML = htmlContent(block);\n    }\n\n    function htmlContent(block) {\n        const content = '<div class=\"collapseElement__content\" data-collapse-element-content>' + block.innerHTML + '</div>';\n        const button = '<button class=\"collapseElement__button ' + options.buttonClass + '\" type=\"button\" data-collapse-element-button><span>' + options.buttonMore + '</span><span>' + options.buttonLess + '</span></button>';\n        const newContent = '<div class=\"collapseElement__wrap\" data-collapse-element-wrap>' + content + '</div>' + button;\n\n        return newContent;\n    }\n\n    function initEvents(block, action) {\n        const button = block.querySelector('[data-collapse-element-button]');\n\n        button && button.addEventListener('click', function (e) {\n            e.preventDefault();\n            if (block.classList.contains('collapseElement_hide')) {\n                block.classList.remove('collapseElement_hide');\n                if (action === 'height') {\n                    const wrap = block.querySelector('[data-collapse-element-wrap]');\n                    const contentHeight = block.querySelector('[data-collapse-element-content]').offsetHeight;\n                    wrap.style.height = contentHeight + 'px';\n                    setTimeout(function () {\n                        wrap.style.height = 'auto';\n                    }, 200);\n                }\n            } else {\n                block.classList.add('collapseElement_hide');\n                if (action === 'height') {\n                    const wrap = block.querySelector('[data-collapse-element-wrap]');\n                    const wrapHeight = wrap.offsetHeight;\n                    wrap.style.height = wrapHeight + 'px';\n                    setTimeout(function () {\n                        wrap.style.height = options.targetHeight - options.reduceHeight + 'px';\n                    }, 0)\n                }\n            }\n        });\n    }\n}\nconst bindCardSlider = (sliderNode) => {\n    if (!sliderNode || !sliderNode.classList.contains('swiper')) {\n        return false;\n    }\n\n    if (!!Swiper) {\n        return new Swiper(sliderNode, {\n            pagination: {\n                el: \".swiper-pagination\", clickable: true,\n            },\n        })\n    }\n}\n\nconst bindLikeBtn = (btnNode, id) => {\n    if (!btnNode || !id) {\n        return false;\n    }\n\n    const favHeaderBtn = document.querySelector('.headerActions__btn_favorites')\n\n    btnNode.addEventListener('click', (e) => {\n        e.preventDefault();\n\n        if (e.target.classList.contains('item-card__like_liked')) {\n            fetch(`/ajax/favorites.php?id=${id}&delete=Y`)\n                .then((resp) => resp.json())\n                .then((resp) => {\n                    if (resp.success) {\n                        e.target.classList.remove('item-card__like_liked');\n                        if (resp.count !== undefined && favHeaderBtn) {\n                            if (!isNaN(resp.count)) {\n                                favHeaderBtn.setAttribute('data-count', String(resp.count))\n                            }\n                        }\n\n                        const isFav = document.querySelector('.catalog_favorites')\n\n                        if (isFav) {\n                            const currentItem = e.target.closest('.catalog__item');\n\n                            if (currentItem) {\n                                currentItem.remove()\n                            }\n                        }\n\n                    } else {\n                        throw new Error('Серверная ошибка удаления товара из понравившихся')\n                    }\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n        } else {\n            fetch(`/ajax/favorites.php?id=${id}`)\n                .then((resp) => resp.json())\n                .then((resp) => {\n                    if (resp.success) {\n                        e.target.classList.add('item-card__like_liked');\n                        if (resp.count !== undefined && favHeaderBtn) {\n                            if (!isNaN(resp.count)) {\n                                favHeaderBtn.setAttribute('data-count', String(resp.count))\n                            }\n                        }\n                    } else {\n                        throw new Error('Серверная ошибка добавления товара в понравившиеся')\n                    }\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n        }\n    })\n}\n\nconst bindCompareBtn = (btnNode, id) => {\n    if (!btnNode || !id) {\n        return false;\n    }\n\n    const headerCompareBtn = document.querySelector('.headerActions__btn_compare');\n\n    btnNode.addEventListener('click', (e) => {\n        e.preventDefault();\n\n        if (e.target.classList.contains('item-card__compare_compared')) {\n            fetch(`/ajax/compare.php?id=${id}&delete=Y`)\n                .then((resp) => resp.json())\n                .then((resp) => {\n                    if (resp.success) {\n                        e.target.classList.remove('item-card__compare_compared')\n                        if (resp.count !== undefined && headerCompareBtn && !isNaN(resp.count)) {\n                            headerCompareBtn.setAttribute('data-count', String(resp.count))\n                        }\n                    } else {\n                        throw new Error('Серверная ошибка удаления товара из сравнения')\n                    }\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n        } else {\n            //todo: здесь вставить запрос на добавление в сравнение\n            fetch(`/ajax/compare.php?id=${id}`)\n                .then((resp) => resp.json())\n                .then((resp) => {\n                    if (resp.success) {\n                        e.target.classList.add('item-card__compare_compared')\n                        if (resp.count !== undefined && headerCompareBtn && !isNaN(resp.count)) {\n                            headerCompareBtn.setAttribute('data-count', String(resp.count))\n                        }\n                    } else {\n                        throw new Error('Серверная ошибка добавления товара в сравнение')\n                    }\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n        }\n    })\n}\n\nconst bindCartBtn = (btnNode, id, name) => {\n    if (!btnNode || !id) {\n        return false;\n    }\n\n    const headerBasketBtn = document.querySelector('.headerActions__btn_basket');\n\n    btnNode.addEventListener('click', (e) => {\n        e.preventDefault();\n\n        if (e.target.classList.contains('item-card__cart_in-cart')) {\n\n            fetch(`/ajax/basket.php?id=${id}&delete=Y`)\n                .then((resp) => resp.json())\n                .then((resp) => {\n                    if (resp.success) {\n                        e.target.classList.remove('item-card__cart_in-cart');\n                        if (resp.count !== undefined && headerBasketBtn) {\n                            if (!isNaN(resp.count)) {\n                                headerBasketBtn.setAttribute('data-count', String(resp.count))\n                            }\n                        }\n                    } else {\n                        throw new Error('Серверная ошибка удаления товара из корзины')\n                    }\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n        } else {\n\n            fetch(`/ajax/basket.php?id=${id}&count=1&json=1`)\n                .then((resp) => resp.json())\n                .then((resp) => {\n                    if (resp.success) {\n                        e.target.classList.add('item-card__cart_in-cart');\n                        Fancybox.show([{\n                            src: `<div class=\"modal-cart-confirmation\">\n<div>Товар <b>\"${name}\"</b> добавлен в корзину.</div>\n<div class=\"modal-cart-confirmation__buttons\">\n<a href=\"/basket/\">Перейти в корзину</a>\n<div class=\"is-close-btn\" onclick=\"Fancybox.close()\">Продолжить покупки</div>\n</div>\n</div>`, type: \"html\",\n                        },]);\n                        if (resp.count !== undefined && headerBasketBtn) {\n                            if (!isNaN(resp.count)) {\n                                headerBasketBtn.setAttribute('data-count', String(resp.count))\n                            }\n                        }\n                    } else {\n                        throw new Error('Серверная ошибка добавления товара в корзину')\n                    }\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n        }\n    })\n}\n\nconst bindItemCard = (itemCardNode) => {\n    if (!itemCardNode) {\n        return false;\n    }\n\n    const itemId = itemCardNode.getAttribute('data-item-id');\n\n    bindCardSlider(itemCardNode.querySelector('.swiper'));\n\n    bindLikeBtn(itemCardNode.querySelector('.js-item-card-like'), itemId);\n\n    bindCompareBtn(itemCardNode.querySelector('.js-item-card-compare'), itemId);\n\n    let name\n\n    if(!itemCardNode.classList.contains('card')){\n        name = itemCardNode.querySelector('.item-card__name').innerText;\n    }else{\n        name = document.querySelector('.page-title_card h1').innerText;\n    }\n\n    for (const cartBtn of itemCardNode.querySelectorAll('.js-item-card-cart')) {\n        bindCartBtn(cartBtn, itemId, name)\n    }\n\n}\n\nconst itemsSlider = (sliderNode) => {\n    if (!sliderNode) {\n        return false;\n    }\n\n    if (!!Swiper) {\n        return new Swiper(sliderNode.querySelector('.swiper'), {\n            slidesPerView: 8, spaceBetween: 20, breakpoints: {\n                1730: {\n                    slidesPerView: 8,\n                }, 1560: {\n                    slidesPerView: 7,\n                }, 1360: {\n                    slidesPerView: 6,\n                }, 1100: {\n                    slidesPerView: 5,\n                }, 851: {\n                    slidesPerView: 4,\n                }, 641: {\n                    slidesPerView: 3,\n                }, 351: {\n                    slidesPerView: 2,\n                }, 0: {\n                    slidesPerView: 1,\n                }\n\n            }\n        })\n    }\n}\n\nconst bindPerPageSelect = (selectNode) => {\n    if (!selectNode || !NiceSelect) {\n        return false;\n    }\n\n    NiceSelect.bind(selectNode);\n}\n\nconst bindSortSelect = (selectNode) => {\n    if (!selectNode || !NiceSelect) {\n        return false;\n    }\n\n    NiceSelect.bind(selectNode);\n\n    selectNode.addEventListener('change', (e) => {\n        const params = new URLSearchParams(window.location.search);\n\n        params.set(e.target.getAttribute('name'), e.target.value);\n        params.toString();\n\n        localStorage.setItem('scrollToCatalog', '1');\n\n        window.location = window.location.pathname + '?' + params.toString();\n    })\n}\n\nconst bindFilterShowButton = (filterNode) => {\n    if (!filterNode) {\n        return false;\n    }\n\n    const checkboxes = filterNode.querySelectorAll('.filter__checkbox');\n\n    if (!checkboxes) {\n        return false;\n    }\n\n    /*for (const checkbox of checkboxes) {\n        if (checkbox.classList.contains('filter__checkbox_show')) {\n            checkbox.setAttribute('data-default', '1');\n        }\n    }*/\n\n    const showBtn = filterNode.querySelector('.filter__show-more');\n\n    if (!showBtn) {\n        return false;\n    }\n\n    const initialBtnText = showBtn.innerHTML;\n\n    showBtn.addEventListener('click', (e) => {\n        e.preventDefault();\n\n        filterNode.classList.toggle('filter_show-all');\n\n        showBtn.innerHTML.toLowerCase() === 'свернуть' ? showBtn.innerHTML = initialBtnText : showBtn.innerHTML = 'Свернуть';\n\n    })\n}\n\nconst scrollToCatalog = () => {\n    const flag = localStorage.getItem('scrollToCatalog');\n    const catalogNode = document.querySelector('.catalog-layout');\n\n    if (flag && catalogNode) {\n        catalogNode.scrollIntoView({behavior: 'smooth'});\n\n        localStorage.removeItem('scrollToCatalog');\n    }\n}\n\nconst bindFilterPrice = (filterNode) => {\n    if (!filterNode) {\n        return false;\n    }\n\n    const sliderNode = filterNode.querySelector('.filter__price-slider');\n\n    if (!sliderNode || !noUiSlider) {\n        return false;\n    }\n\n    noUiSlider.create(sliderNode, {\n        start: [Number(sliderNode.getAttribute('data-min')) || 0, Number(sliderNode.getAttribute('data-max')) || 500000],\n        connect: true,\n        step: 100,\n        range: {\n            'min': Number(sliderNode.getAttribute('data-min')) || 0,\n            'max': Number(sliderNode.getAttribute('data-max')) || 500000,\n        },\n    });\n\n    const inputMin = filterNode.querySelector('[name=\"price_from\"]');\n    const inputMax = filterNode.querySelector('[name=\"price_to\"]');\n\n    sliderNode.noUiSlider.on('update', function (values, handle) {\n\n        const value = values[handle];\n\n        if (handle) {\n            inputMax.value = Math.round(value);\n        } else {\n            inputMin.value = Math.round(value);\n        }\n    });\n\n    inputMin.addEventListener('change', function () {\n        sliderNode.noUiSlider.set([this.value, null]);\n    });\n\n    inputMax.addEventListener('change', function () {\n        sliderNode.noUiSlider.set([null, this.value]);\n    });\n\n\n}\n\nconst bindSectionsListAdaptive = (node) => {\n    if (!node) {\n        return false;\n    }\n\n    if (window.matchMedia('(max-width: 750px)').matches && window.ADAPTIVE_SUBSECTIONS_FLAG) {\n        return false;\n    }\n\n    if (window.matchMedia('(min-width: 751px)').matches && !window.ADAPTIVE_SUBSECTIONS_FLAG) {\n        return false;\n    }\n\n    if (window.matchMedia('(max-width: 750px)').matches && !window.ADAPTIVE_SUBSECTIONS_FLAG) {\n\n        window.ADAPTIVE_SUBSECTIONS_FLAG = true;\n\n        const select = document.createElement('div');\n        select.classList.add('sections-list-select');\n\n        const list = node.querySelector('ul');\n\n        const activeEl = list.querySelector('.sections-list__item_active');\n\n\n        if (!activeEl) {\n            select.innerText = 'Выбрать раздел каталога';\n        }\n\n        if (activeEl) {\n            select.append(activeEl.cloneNode(true));\n\n            select.querySelector('a').addEventListener('click', (e) => {\n                e.preventDefault();\n            })\n        }\n\n        const btnClose = document.createElement('li');\n        btnClose.setAttribute('type', 'button');\n        btnClose.classList.add('sections-list__close-btn');\n\n        list.append(btnClose)\n\n        node.after(select);\n\n        select.addEventListener('click', (e) => {\n            node.classList.toggle('sections-list_opened');\n        })\n\n        node.addEventListener('click', (e) => {\n            if (node === e.target || btnClose === e.target) {\n                node.classList.remove('sections-list_opened');\n            }\n        })\n\n\n    }\n\n    if (window.matchMedia('(min-width: 751px)').matches && window.ADAPTIVE_SUBSECTIONS_FLAG) {\n        window.ADAPTIVE_SUBSECTIONS_FLAG = false;\n\n        document.querySelector('.sections-list-select') && document.querySelector('.sections-list-select').remove();\n    }\n\n}\n\nconst bindFiltersAdaptive = () => {\n    const btn = document.querySelector('.sort__filters-adaptive');\n    const sidebar = document.querySelector('.catalog-layout__sidebar');\n\n    if (!sidebar && btn) {\n        btn.style.display = 'none';\n        return false;\n    }\n\n    if (!sidebar || !btn) {\n        return false;\n    }\n\n    const closeSidebar = (e) => {\n        if (!e) {\n            sidebar.classList.remove('catalog-layout__sidebar_opened');\n            document.removeEventListener('click', closeSidebar);\n            return true;\n        }\n        if (e.target === btn) {\n            return false;\n        }\n        if (e.target === sidebar || sidebar.contains(e.target)) {\n            return false;\n        }\n        sidebar.classList.remove('catalog-layout__sidebar_opened');\n        document.removeEventListener('click', closeSidebar);\n    }\n\n    btn.addEventListener('click', (e) => {\n        e.preventDefault();\n        if (!sidebar.classList.contains('catalog-layout__sidebar_opened')) {\n            sidebar.classList.add('catalog-layout__sidebar_opened');\n            document.addEventListener('click', closeSidebar);\n        } else {\n            closeSidebar();\n        }\n    })\n    sidebar.querySelector('.catalog-layout__sidebar-close').addEventListener('click', (e) => {\n        e.preventDefault();\n        closeSidebar();\n    })\n\n    sidebar.querySelector('.filters__actions button').addEventListener('click', () => {\n        closeSidebar()\n    })\n}\n\nconst bindFilterChange = (node) => {\n    if (!node) {\n        return false;\n    }\n\n    const inputs = [...node.querySelectorAll('input')];\n    const btn = node.querySelector('.filters__actions button');\n\n    inputs.map((input) => {\n        input.addEventListener('change', () => {\n            btn.style.visibility = 'visible';\n            btn.style.opacity = '1';\n        })\n    })\n\n    btn.addEventListener('click', (e) => {\n        e.preventDefault();\n        btn.style.visibility = 'hidden';\n        btn.style.opacity = '0';\n    })\n}\n\nwindow.addEventListener('DOMContentLoaded', () => {\n\n    for (const cardItemNode of document.querySelectorAll('.item-card')) {\n        bindItemCard(cardItemNode)\n    }\n\n    for (const itemsSliderNode of document.querySelectorAll('.items-slider')) {\n        itemsSlider(itemsSliderNode)\n    }\n\n    for (const sliderNode of document.querySelectorAll('.sort__item select')) {\n        bindSortSelect(sliderNode)\n    }\n\n    scrollToCatalog();\n\n    for (const filterNode of document.querySelectorAll('.filter')) {\n        bindFilterShowButton(filterNode)\n    }\n\n    for (const filterNode of document.querySelectorAll('.filter__price')) {\n        bindFilterPrice(filterNode)\n    }\n\n    bindSectionsListAdaptive(document.querySelector('.sections-list'));\n\n    bindFiltersAdaptive();\n\n    bindFilterChange(document.querySelector('.filters'));\n\n    collapseChildItems('.js-collapsible-text', {\n        targetHeight: 150,\n        buttonMore: 'Развернуть',\n        buttonLess: 'Свернуть'\n    });\n})\n\nwindow.addEventListener('resize', () => {\n    bindSectionsListAdaptive(document.querySelector('.sections-list'));\n})\n\n\n\n\n"]}