{"version":3,"sources":["helpers/collapseText.js","components/base/item-card.js"],"names":["collapseChildItems","selector","setOptions","blocks","document","querySelectorAll","console","log","options","children","targetHeight","targetCount","reduceHeight","buttonClass","buttonMore","buttonLess","i","length","block","initCollapseHeight","initEvents","initCollapseItems","offsetHeight","htmlStructure","querySelector","style","height","childrens","classList","add","addClass","innerHTML","content","button","htmlContent","action","addEventListener","e","preventDefault","contains","remove","wrap","contentHeight","setTimeout","wrapHeight","bindCardSlider","sliderNode","Swiper","pagination","el","clickable","bindLikeBtn","btnNode","id","favHeaderBtn","itemInfoNode","closest","name","getAttribute","srcImg","target","fetch","then","resp","json","success","Error","undefined","count","isNaN","setAttribute","String","currentItem","catch","err","showAddItemModal","img","bindCompareBtn","headerCompareBtn","bindCartBtn","headerBasketBtn","bindItemCard","itemCardNode","itemId","innerText","cartBtn","itemsSlider","slidesPerView","spaceBetween","breakpoints","bindPerPageSelect","selectNode","NiceSelect","bind","bindSortSelect","params","URLSearchParams","window","location","search","set","value","toString","localStorage","setItem","pathname","bindFilterShowButton","filterNode","showBtn","initialBtnText","toggle","toLowerCase","scrollToCatalog","flag","getItem","catalogNode","scrollIntoView","behavior","removeItem","bindFilterPrice","noUiSlider","create","start","Number","connect","step","range","min","max","inputMin","inputMax","on","values","handle","Math","round","this","bindSectionsListAdaptive","node","matchMedia","matches","ADAPTIVE_SUBSECTIONS_FLAG","select","createElement","list","activeEl","append","cloneNode","btnClose","after","bindFiltersAdaptive","btn","sidebar","display","closeSidebar","removeEventListener","bindFilterChange","inputs","map","input","visibility","opacity","cardItemNode","itemsSliderNode"],"mappings":"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","file":"catalog.min.js","sourcesContent":["const collapseChildItems = function (selector, setOptions) {\n    if (!selector) {\n        return false;\n    }\n\n    const blocks = document.querySelectorAll(selector + ':not(.collapseElement)');\n\n    console.log(blocks)\n\n    const options = {\n        children: setOptions.children || '*',                   // html selector (string)\n        targetHeight: setOptions.targetHeight || null,          // height block (number)\n        targetCount: setOptions.targetCount || null,            // count childrens (number)\n        reduceHeight: setOptions.reduceHeight || 0,             // value reduce height (number)\n        buttonClass: setOptions.buttonClass || '',              // button (string)\n        buttonMore: setOptions.buttonMore || 'Смотреть еще',    // button (string)\n        buttonLess: setOptions.buttonLess || 'Скрыть',          // button (string)\n    }\n\n    if (!blocks[0]) return false;\n\n    for (let i = 0; i < blocks.length; i++) {\n        const block = blocks[i];\n        if (options.targetHeight !== null) {\n            initCollapseHeight(block);\n            initEvents(block, 'height');\n        } else if (options.targetCount !== null) {\n            initCollapseItems(block);\n            initEvents(block, 'count');\n        }\n    }\n\n    function initCollapseHeight(block) {\n        const blockHeight = block.offsetHeight;\n\n        if (blockHeight > options.targetHeight) {\n            htmlStructure(block, 'collapseElement_height');\n\n            block.querySelector('[data-collapse-element-wrap]').style.height = options.targetHeight - options.reduceHeight + 'px';\n        }\n    }\n\n    function initCollapseItems(block) {\n        if (block.querySelectorAll(options.children).length > options.targetCount) {\n            htmlStructure(block);\n\n            const childrens = block.querySelectorAll(options.children); // !!! important after fn htmlStructure\n\n            for (let i = 0; i < childrens.length; i++) {\n                if (i + 1 > options.targetCount) {\n                    childrens[i].classList.add('collapseElement__hidden');\n                }\n            }\n        }\n    }\n\n    function htmlStructure(block, addClass) {\n        block.classList.add('collapseElement', 'collapseElement_hide');\n        addClass && block.classList.add(addClass);\n        block.innerHTML = htmlContent(block);\n    }\n\n    function htmlContent(block) {\n        const content = '<div class=\"collapseElement__content\" data-collapse-element-content>' + block.innerHTML + '</div>';\n        const button = '<button class=\"collapseElement__button ' + options.buttonClass + '\" type=\"button\" data-collapse-element-button><span>' + options.buttonMore + '</span><span>' + options.buttonLess + '</span></button>';\n        const newContent = '<div class=\"collapseElement__wrap\" data-collapse-element-wrap>' + content + '</div>' + button;\n\n        return newContent;\n    }\n\n    function initEvents(block, action) {\n        const button = block.querySelector('[data-collapse-element-button]');\n\n        button && button.addEventListener('click', function (e) {\n            e.preventDefault();\n            if (block.classList.contains('collapseElement_hide')) {\n                block.classList.remove('collapseElement_hide');\n                if (action === 'height') {\n                    const wrap = block.querySelector('[data-collapse-element-wrap]');\n                    const contentHeight = block.querySelector('[data-collapse-element-content]').offsetHeight;\n                    wrap.style.height = contentHeight + 'px';\n                    setTimeout(function () {\n                        wrap.style.height = 'auto';\n                    }, 200);\n                }\n            } else {\n                block.classList.add('collapseElement_hide');\n                if (action === 'height') {\n                    const wrap = block.querySelector('[data-collapse-element-wrap]');\n                    const wrapHeight = wrap.offsetHeight;\n                    wrap.style.height = wrapHeight + 'px';\n                    setTimeout(function () {\n                        wrap.style.height = options.targetHeight - options.reduceHeight + 'px';\n                    }, 0)\n                }\n            }\n        });\n    }\n}","const bindCardSlider = (sliderNode) => {\n    if (!sliderNode || !sliderNode.classList.contains('swiper')) {\n        return false;\n    }\n\n    if (!!Swiper) {\n        return new Swiper(sliderNode, {\n            pagination: {\n                el: \".swiper-pagination\", clickable: true,\n            },\n        })\n    }\n}\n\nconst bindLikeBtn = (btnNode, id) => {\n    if (!btnNode || !id) {\n        return false;\n    }\n\n    const favHeaderBtn = document.querySelector('.headerActions__btn_favorites');\n    const itemInfoNode = btnNode.closest('.item-card') && btnNode.closest('.item-card').querySelector('.js-item-card-cart');\n    const name = itemInfoNode && itemInfoNode.getAttribute('data-name') ? itemInfoNode.getAttribute('data-name') : '';\n    const srcImg = itemInfoNode && itemInfoNode.getAttribute('data-img') ? itemInfoNode.getAttribute('data-img') : '';\n\n    btnNode.addEventListener('click', (e) => {\n        e.preventDefault();\n\n        if (e.target.classList.contains('item-card__like_liked')) {\n            fetch(`/ajax/favorites.php?id=${id}&delete=Y`)\n                .then((resp) => resp.json())\n                .then((resp) => {\n                    if (resp.success) {\n                        e.target.classList.remove('item-card__like_liked');\n                        if (resp.count !== undefined && favHeaderBtn) {\n                            if (!isNaN(resp.count)) {\n                                favHeaderBtn.setAttribute('data-count', String(resp.count))\n                            }\n                        }\n\n                        const isFav = document.querySelector('.catalog_favorites')\n\n                        if (isFav) {\n                            const currentItem = e.target.closest('.catalog__item');\n\n                            if (currentItem) {\n                                currentItem.remove()\n                            }\n                        }\n\n                    } else {\n                        throw new Error('Серверная ошибка удаления товара из понравившихся')\n                    }\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n        } else {\n            fetch(`/ajax/favorites.php?id=${id}`)\n                .then((resp) => resp.json())\n                .then((resp) => {\n                    if (resp.success) {\n                        e.target.classList.add('item-card__like_liked');\n                        showAddItemModal(\n                            'Товар добавлен в избранное',\n                            {\n                                name: name,\n                                img: srcImg\n                            },\n                            '/favorites/',\n                            'В избранное'\n                        );\n                        if (resp.count !== undefined && favHeaderBtn) {\n                            if (!isNaN(resp.count)) {\n                                favHeaderBtn.setAttribute('data-count', String(resp.count))\n                            }\n                        }\n                    } else {\n                        throw new Error('Серверная ошибка добавления товара в понравившиеся')\n                    }\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n        }\n    })\n}\n\nconst bindCompareBtn = (btnNode, id) => {\n    if (!btnNode || !id) {\n        return false;\n    }\n\n    const headerCompareBtn = document.querySelector('.headerActions__btn_compare');\n    const itemInfoNode = btnNode.closest('.item-card') && btnNode.closest('.item-card').querySelector('.js-item-card-cart');\n    const name = itemInfoNode && itemInfoNode.getAttribute('data-name') ? itemInfoNode.getAttribute('data-name') : '';\n    const srcImg = itemInfoNode && itemInfoNode.getAttribute('data-img') ? itemInfoNode.getAttribute('data-img') : '';\n\n    btnNode.addEventListener('click', (e) => {\n        e.preventDefault();\n\n        if (e.target.classList.contains('item-card__compare_compared')) {\n            fetch(`/ajax/compare.php?id=${id}&delete=Y`)\n                .then((resp) => resp.json())\n                .then((resp) => {\n                    if (resp.success) {\n                        e.target.classList.remove('item-card__compare_compared')\n                        if (resp.count !== undefined && headerCompareBtn && !isNaN(resp.count)) {\n                            headerCompareBtn.setAttribute('data-count', String(resp.count))\n                        }\n                    } else {\n                        throw new Error('Серверная ошибка удаления товара из сравнения')\n                    }\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n        } else {\n            fetch(`/ajax/compare.php?id=${id}`)\n                .then((resp) => resp.json())\n                .then((resp) => {\n                    if (resp.success) {\n                        e.target.classList.add('item-card__compare_compared');\n                        showAddItemModal(\n                            'Товар добавлен в сравнение',\n                            {\n                                name: name,\n                                img: srcImg\n                            },\n                            '/compare/',\n                            'В сравнение'\n                        );\n                        if (resp.count !== undefined && headerCompareBtn && !isNaN(resp.count)) {\n                            headerCompareBtn.setAttribute('data-count', String(resp.count))\n                        }\n                    } else {\n                        throw new Error('Серверная ошибка добавления товара в сравнение')\n                    }\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n        }\n    })\n}\n\nconst bindCartBtn = (btnNode, id, name) => {\n    if (!btnNode || !id) {\n        return false;\n    }\n\n    const headerBasketBtn = document.querySelector('.headerActions__btn_basket');\n\n    btnNode.addEventListener('click', (e) => {\n        e.preventDefault();\n\n        let name = btnNode.getAttribute('data-name');\n        let srcImg = btnNode.getAttribute('data-img');\n\n        if (e.target.classList.contains('item-card__cart_in-cart')) {\n\n            fetch(`/ajax/basket.php?id=${id}&delete=Y`)\n                .then((resp) => resp.json())\n                .then((resp) => {\n                    if (resp.success) {\n                        e.target.classList.remove('item-card__cart_in-cart');\n                        if (resp.count !== undefined && headerBasketBtn) {\n                            if (!isNaN(resp.count)) {\n                                headerBasketBtn.setAttribute('data-count', String(resp.count))\n                            }\n                        }\n                    } else {\n                        throw new Error('Серверная ошибка удаления товара из корзины')\n                    }\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n        } else {\n\n            fetch(`/ajax/basket.php?id=${id}&count=1&json=1`)\n                .then((resp) => resp.json())\n                .then((resp) => {\n                    if (resp.success) {\n                        e.target.classList.add('item-card__cart_in-cart');\n                        showAddItemModal(\n                            'Товар добавлен в корзину',\n                            {\n                                name: name,\n                                img: srcImg\n                            },\n                            '/basket/',\n                            'В корзину'\n                            );\n\n                        if (resp.count !== undefined && headerBasketBtn) {\n                            if (!isNaN(resp.count)) {\n                                headerBasketBtn.setAttribute('data-count', String(resp.count))\n                            }\n                        }\n                    } else {\n                        throw new Error('Серверная ошибка добавления товара в корзину')\n                    }\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n        }\n    })\n}\n\nconst bindItemCard = (itemCardNode) => {\n    if (!itemCardNode) {\n        return false;\n    }\n\n    const itemId = itemCardNode.getAttribute('data-item-id');\n\n    bindCardSlider(itemCardNode.querySelector('.swiper'));\n\n    bindLikeBtn(itemCardNode.querySelector('.js-item-card-like'), itemId);\n\n    bindCompareBtn(itemCardNode.querySelector('.js-item-card-compare'), itemId);\n\n    let name\n\n    if(!itemCardNode.classList.contains('card')){\n        name = itemCardNode.querySelector('.item-card__name').innerText;\n    }else{\n        name = document.querySelector('.page-title_card h1').innerText;\n    }\n\n    for (const cartBtn of itemCardNode.querySelectorAll('.js-item-card-cart')) {\n        bindCartBtn(cartBtn, itemId, name)\n    }\n\n}"]}