const collapseChildItems=function(e,t){const n=document.querySelectorAll(e+":not(.collapseElement)"),l={children:t.children||"*",targetHeight:t.targetHeight||null,targetCount:t.targetCount||null,reduceHeight:t.reduceHeight||0,buttonClass:t.buttonClass||"",buttonMore:t.buttonMore||"Смотреть еще",buttonLess:t.buttonLess||"Скрыть"};if(!n[0])return!1;for(let e=0;e<n.length;e++){const t=n[e];null!==l.targetHeight?(a(t),c(t,"height")):null!==l.targetCount&&(o(t),c(t,"count"))}function a(e){e.offsetHeight>l.targetHeight&&(s(e,"collapseElement_height"),e.querySelector("[data-collapse-element-wrap]").style.height=l.targetHeight-l.reduceHeight+"px")}function o(e){if(e.querySelectorAll(l.children).length>l.targetCount){s(e);const t=e.querySelectorAll(l.children);for(let e=0;e<t.length;e++)e+1>l.targetCount&&t[e].classList.add("collapseElement__hidden")}}function s(e,t){e.classList.add("collapseElement","collapseElement_hide"),t&&e.classList.add(t),e.innerHTML=function(e){const t='<div class="collapseElement__content" data-collapse-element-content>'+e.innerHTML+"</div>",n='<button class="collapseElement__button '+l.buttonClass+'" type="button" data-collapse-element-button><span>'+l.buttonMore+"</span><span>"+l.buttonLess+"</span></button>";return'<div class="collapseElement__wrap" data-collapse-element-wrap>'+t+"</div>"+n}(e)}function c(e,t){const n=e.querySelector("[data-collapse-element-button]");n&&n.addEventListener("click",(function(n){if(n.preventDefault(),e.classList.contains("collapseElement_hide")){if(e.classList.remove("collapseElement_hide"),"height"===t){const t=e.querySelector("[data-collapse-element-wrap]"),n=e.querySelector("[data-collapse-element-content]").offsetHeight;t.style.height=n+"px",setTimeout((function(){t.style.height="auto"}),200)}}else if(e.classList.add("collapseElement_hide"),"height"===t){const t=e.querySelector("[data-collapse-element-wrap]"),n=t.offsetHeight;t.style.height=n+"px",setTimeout((function(){t.style.height=l.targetHeight-l.reduceHeight+"px"}),0)}}))}};let navButton=document.querySelector(".brand-detail__button"),brandNav=document.querySelector(".brand-nav"),brandBg=document.querySelector(".brand-detail__bg"),brandClose=document.querySelector(".brand-detail__close");window.addEventListener("DOMContentLoaded",(()=>{window.matchMedia("(max-width: 767px)").matches&&collapseChildItems(".js-collapse-brand-text",{targetHeight:150,buttonMore:"Развернуть",buttonLess:"Свернуть"}),navButton.addEventListener("click",(function(){brandNav.classList.add("is-open"),brandBg.classList.add("is-open")})),brandBg.addEventListener("click",(function(){brandNav.classList.remove("is-open"),brandBg.classList.remove("is-open")})),brandClose.addEventListener("click",(function(){brandNav.classList.remove("is-open"),brandBg.classList.remove("is-open")}))}));
//# sourceMappingURL=brands-detail.min.js.map
