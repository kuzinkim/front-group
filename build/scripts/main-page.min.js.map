{"version":3,"sources":["helpers/collapseText.js","components/main-page/main-slider.js","components/main-page/brandsTab.js"],"names":["collapseChildItems","selector","setOptions","blocks","document","querySelectorAll","console","log","options","children","targetHeight","targetCount","reduceHeight","buttonClass","buttonMore","buttonLess","i","length","block","initCollapseHeight","initEvents","initCollapseItems","offsetHeight","htmlStructure","querySelector","style","height","childrens","classList","add","addClass","innerHTML","content","button","htmlContent","action","addEventListener","e","preventDefault","contains","remove","wrap","contentHeight","setTimeout","wrapHeight","mySwiper","bindMainSlider","node","slidesPerView","navigation","prevEl","parentElement","nextEl","autoplay","delay","loop","Swiper","bindPartnerSlider","grabCursor","centeredSlides","breakpoints","window","slider","brandTabs","brandContent","brandContentWrap","brandBg","brandClose","forEach","tab","dataTab","getAttribute","conten","this","dataContent","matchMedia","matches"],"mappings":"AAAA,MAAAA,mBAAA,SAAAC,EAAAC,GACA,IAAAD,EACA,SAGA,MAAAE,EAAAC,SAAAC,iBAAAJ,EAAA,0BAEAK,QAAAC,IAAAJ,GAEA,MAAAK,EAAA,CACAC,SAAAP,EAAAO,UAAA,IACAC,aAAAR,EAAAQ,cAAA,KACAC,YAAAT,EAAAS,aAAA,KACAC,aAAAV,EAAAU,cAAA,EACAC,YAAAX,EAAAW,aAAA,GACAC,WAAAZ,EAAAY,YAAA,eACAC,WAAAb,EAAAa,YAAA,UAGA,IAAAZ,EAAA,YAEA,QAAAa,EAAA,EAAAA,EAAAb,EAAAc,OAAAD,IAAA,CACA,MAAAE,EAAAf,EAAAa,GACA,OAAAR,EAAAE,cACAS,EAAAD,GACAE,EAAAF,EAAA,WACA,OAAAV,EAAAG,cACAU,EAAAH,GACAE,EAAAF,EAAA,SAEA,CAEA,SAAAC,EAAAD,GACAA,EAAAI,aAEAd,EAAAE,eACAa,EAAAL,EAAA,0BAEAA,EAAAM,cAAA,gCAAAC,MAAAC,OAAAlB,EAAAE,aAAAF,EAAAI,aAAA,KAEA,CAEA,SAAAS,EAAAH,GACA,GAAAA,EAAAb,iBAAAG,EAAAC,UAAAQ,OAAAT,EAAAG,YAAA,CACAY,EAAAL,GAEA,MAAAS,EAAAT,EAAAb,iBAAAG,EAAAC,UAEA,QAAAO,EAAA,EAAAA,EAAAW,EAAAV,OAAAD,IACAA,EAAA,EAAAR,EAAAG,aACAgB,EAAAX,GAAAY,UAAAC,IAAA,0BAGA,CACA,CAEA,SAAAN,EAAAL,EAAAY,GACAZ,EAAAU,UAAAC,IAAA,0CACAC,GAAAZ,EAAAU,UAAAC,IAAAC,GACAZ,EAAAa,UAGA,SAAAb,GACA,MAAAc,EAAA,uEAAAd,EAAAa,UAAA,SACAE,EAAA,0CAAAzB,EAAAK,YAAA,sDAAAL,EAAAM,WAAA,gBAAAN,EAAAO,WAAA,mBAGA,MAFA,iEAAAiB,EAAA,SAAAC,CAGA,CATAC,CAAAhB,EACA,CAUA,SAAAE,EAAAF,EAAAiB,GACA,MAAAF,EAAAf,EAAAM,cAAA,kCAEAS,KAAAG,iBAAA,kBAAAC,GAEA,GADAA,EAAAC,iBACApB,EAAAU,UAAAW,SAAA,yBAEA,GADArB,EAAAU,UAAAY,OAAA,wBACA,WAAAL,EAAA,CACA,MAAAM,EAAAvB,EAAAM,cAAA,gCACAkB,EAAAxB,EAAAM,cAAA,mCAAAF,aACAmB,EAAAhB,MAAAC,OAAAgB,EAAA,KACAC,YAAA,WACAF,EAAAhB,MAAAC,OAAA,MACA,OACA,OAGA,GADAR,EAAAU,UAAAC,IAAA,wBACA,WAAAM,EAAA,CACA,MAAAM,EAAAvB,EAAAM,cAAA,gCACAoB,EAAAH,EAAAnB,aACAmB,EAAAhB,MAAAC,OAAAkB,EAAA,KACAD,YAAA,WACAF,EAAAhB,MAAAC,OAAAlB,EAAAE,aAAAF,EAAAI,aAAA,IACA,KACA,CAEA,GACA,CACA,EClGA,IAAAiC,SAEA,MAAAC,eAAAC,IACA,IAAAA,EACA,SAGA,MAAAvC,EAAA,CACAwC,cAAA,EACAC,WAAA,CACAC,OAAAH,EAAAI,cAAA3B,cAAA,2BACA4B,OAAAL,EAAAI,cAAA3B,cAAA,4BAEA6B,SAAA,CACAC,MAAA,KAEAC,MAAA,GAGA,WAAAC,OAAAT,EAAAvC,EAAA,EAGAiD,kBAAAV,IACA,IAAAA,EACA,SA2BA,WAAAS,OAAAT,EAxBA,CACAW,YAAA,EACAC,gBAAA,EACAN,SAAA,CACAC,MAAA,KAEAC,MAAA,EAEAK,YAAA,CAEA,GACAZ,cAAA,GAGA,KACAA,cAAA,GAGA,KACAA,cAAA,KAKA,EAGAa,OAAAzB,iBAAA,aAEA,UAAA0B,KAAA1D,SAAAC,iBAAA,8BACAyC,eAAAgB,GAGA,UAAAA,KAAA1D,SAAAC,iBAAA,kCACAoD,kBAAAK,EACA,IC9DAD,OAAAzB,iBAAA,mBACA,IAAA2B,EAAA3D,SAAAC,iBAAA,oBACA2D,EAAA5D,SAAAC,iBAAA,wBACA4D,EAAA7D,SAAAoB,cAAA,oBACA0C,EAAA9D,SAAAoB,cAAA,kBACA2C,EAAA/D,SAAAoB,cAAA,qBAcAuC,EAAAK,SAAA,SAAAC,GACA,IAAAC,EAAAD,EAAAE,aAAA,kBAEAF,EAAAjC,iBAAA,kBAAAC,GACAA,EAAAC,iBAfAyB,EAAAK,SAAA,SAAAC,GACAA,EAAAzC,UAAAY,OAAA,YACA,IAEAwB,EAAAI,SAAA,SAAAI,GACAA,EAAA5C,UAAAY,OAAA,YACA,IAWAiC,KAAA7C,UAAAC,IAAA,aAEAmC,EAAAI,SAAA,SAAApC,GACA,IAAA0C,EAAA1C,EAAAuC,aAAA,sBAEAD,GAAAI,IACA1C,EAAAJ,UAAAC,IAAA,aAEAgC,OAAAc,WAAA,sBAAAC,UACA5C,EAAAR,cAAA,qBAEAF,aAAA,KACAtB,mBAAA,qBACAU,aAAA,IACAI,WAAA,aACAC,WAAA,YAKA,IAEA8C,OAAAc,WAAA,uBAAAC,UACAV,EAAAtC,UAAAC,IAAA,WACAoC,EAAArC,UAAAC,IAAA,WAEA,GACA,IAKAqC,EAAA9B,iBAAA,oBACA8B,EAAAtC,UAAAY,OAAA,WACAyB,EAAArC,UAAAY,OAAA,UACA,IAEA2B,EAAA/B,iBAAA,oBACA8B,EAAAtC,UAAAY,OAAA,WACAyB,EAAArC,UAAAY,OAAA,UACA,GACA","file":"main-page.min.js","sourcesContent":["const collapseChildItems = function (selector, setOptions) {\n    if (!selector) {\n        return false;\n    }\n\n    const blocks = document.querySelectorAll(selector + ':not(.collapseElement)');\n\n    console.log(blocks)\n\n    const options = {\n        children: setOptions.children || '*',                   // html selector (string)\n        targetHeight: setOptions.targetHeight || null,          // height block (number)\n        targetCount: setOptions.targetCount || null,            // count childrens (number)\n        reduceHeight: setOptions.reduceHeight || 0,             // value reduce height (number)\n        buttonClass: setOptions.buttonClass || '',              // button (string)\n        buttonMore: setOptions.buttonMore || 'Смотреть еще',    // button (string)\n        buttonLess: setOptions.buttonLess || 'Скрыть',          // button (string)\n    }\n\n    if (!blocks[0]) return false;\n\n    for (let i = 0; i < blocks.length; i++) {\n        const block = blocks[i];\n        if (options.targetHeight !== null) {\n            initCollapseHeight(block);\n            initEvents(block, 'height');\n        } else if (options.targetCount !== null) {\n            initCollapseItems(block);\n            initEvents(block, 'count');\n        }\n    }\n\n    function initCollapseHeight(block) {\n        const blockHeight = block.offsetHeight;\n\n        if (blockHeight > options.targetHeight) {\n            htmlStructure(block, 'collapseElement_height');\n\n            block.querySelector('[data-collapse-element-wrap]').style.height = options.targetHeight - options.reduceHeight + 'px';\n        }\n    }\n\n    function initCollapseItems(block) {\n        if (block.querySelectorAll(options.children).length > options.targetCount) {\n            htmlStructure(block);\n\n            const childrens = block.querySelectorAll(options.children); // !!! important after fn htmlStructure\n\n            for (let i = 0; i < childrens.length; i++) {\n                if (i + 1 > options.targetCount) {\n                    childrens[i].classList.add('collapseElement__hidden');\n                }\n            }\n        }\n    }\n\n    function htmlStructure(block, addClass) {\n        block.classList.add('collapseElement', 'collapseElement_hide');\n        addClass && block.classList.add(addClass);\n        block.innerHTML = htmlContent(block);\n    }\n\n    function htmlContent(block) {\n        const content = '<div class=\"collapseElement__content\" data-collapse-element-content>' + block.innerHTML + '</div>';\n        const button = '<button class=\"collapseElement__button ' + options.buttonClass + '\" type=\"button\" data-collapse-element-button><span>' + options.buttonMore + '</span><span>' + options.buttonLess + '</span></button>';\n        const newContent = '<div class=\"collapseElement__wrap\" data-collapse-element-wrap>' + content + '</div>' + button;\n\n        return newContent;\n    }\n\n    function initEvents(block, action) {\n        const button = block.querySelector('[data-collapse-element-button]');\n\n        button && button.addEventListener('click', function (e) {\n            e.preventDefault();\n            if (block.classList.contains('collapseElement_hide')) {\n                block.classList.remove('collapseElement_hide');\n                if (action === 'height') {\n                    const wrap = block.querySelector('[data-collapse-element-wrap]');\n                    const contentHeight = block.querySelector('[data-collapse-element-content]').offsetHeight;\n                    wrap.style.height = contentHeight + 'px';\n                    setTimeout(function () {\n                        wrap.style.height = 'auto';\n                    }, 200);\n                }\n            } else {\n                block.classList.add('collapseElement_hide');\n                if (action === 'height') {\n                    const wrap = block.querySelector('[data-collapse-element-wrap]');\n                    const wrapHeight = wrap.offsetHeight;\n                    wrap.style.height = wrapHeight + 'px';\n                    setTimeout(function () {\n                        wrap.style.height = options.targetHeight - options.reduceHeight + 'px';\n                    }, 0)\n                }\n            }\n        });\n    }\n}","let mySwiper;\n\nconst bindMainSlider = (node) => {\n  if (!node) {\n    return false;\n  }\n\n  const options = {\n    slidesPerView: 1,\n    navigation: {\n      prevEl: node.parentElement.querySelector('.slideContols__btn_prev'),\n      nextEl: node.parentElement.querySelector('.slideContols__btn_next'),\n    },\n    autoplay: {\n      delay: 3000,\n    },\n    loop: true\n  }\n\n  return new Swiper(node, options);\n}\n\nconst bindPartnerSlider = (node) => {\n  if (!node) {\n    return false;\n  }\n\n  const options = {\n    grabCursor: true,\n    centeredSlides: true,\n    autoplay: {\n      delay: 1000,\n    },\n    loop: true,\n\n    breakpoints: {\n      // when window width is >= 320px\n      0: {\n        slidesPerView: 3,\n      },\n      // when window width is >= 480px\n      495: {\n        slidesPerView: 5,\n      },\n      // when window width is >= 640px\n      1000: {\n        slidesPerView: 7,\n      }\n    }\n  }\n\n  return new Swiper(node, options);\n}\n\nwindow.addEventListener('load', () => {\n\n  for (const slider of document.querySelectorAll('.front-slider_main .swiper')) {\n    bindMainSlider(slider);\n  }\n\n  for (const slider of document.querySelectorAll('.front-slider_partners .swiper')) {\n    bindPartnerSlider(slider);\n  }\n})","window.addEventListener('load', function(){\n    let brandTabs = document.querySelectorAll('[data-brand-tab]')\n    let brandContent = document.querySelectorAll('[data-brand-content]')\n    let brandContentWrap = document.querySelector('.js-wrap-content')\n    let brandBg = document.querySelector('.js-bg-content')\n    let brandClose = document.querySelector('.js-close-content')\n\n    function removeActiveClass() {\n        brandTabs.forEach(function(tab){\n            tab.classList.remove('is-active')\n        })\n\n        brandContent.forEach(function(conten){\n            conten.classList.remove('is-active')\n        })\n    }\n\n    function brandsTabToogle() {\n\n        brandTabs.forEach(function(tab){\n            let dataTab = tab.getAttribute('data-brand-tab')\n\n            tab.addEventListener('click', function(e){\n                e.preventDefault();\n                removeActiveClass();\n                this.classList.add('is-active')\n\n                brandContent.forEach(function(content){\n                    let dataContent = content.getAttribute('data-brand-content')\n\n                    if(dataTab == dataContent){\n                        content.classList.add('is-active');\n\n                        if(window.matchMedia(\"(max-width: 495px)\").matches){\n                            let contentBody = content.querySelector('[data-brand-wrap]')\n\n                            if(contentBody.offsetHeight > 124){\n                                collapseChildItems('[data-brand-wrap]', {\n                                    targetHeight: 124,\n                                    buttonMore: 'Развернуть',\n                                    buttonLess: 'Свернуть'\n                                });\n                            }\n                        }\n                    }\n                })\n\n                if(window.matchMedia(\"(max-width: 1199px)\").matches){\n                    brandBg.classList.add('is-open')\n                    brandContentWrap.classList.add('is-open')\n                }\n            })\n        })\n    }\n\n    brandsTabToogle();\n\n    brandBg.addEventListener('click', function(){\n        brandBg.classList.remove('is-open')\n        brandContentWrap.classList.remove('is-open')\n    })\n\n    brandClose.addEventListener('click', function(){\n        brandBg.classList.remove('is-open')\n        brandContentWrap.classList.remove('is-open')\n    })\n})\n"]}