const bindContactsTabs=t=>{if(!t)return!1;[...t.querySelectorAll(".contacts-page__toggle")].map((e=>{e.addEventListener("click",(c=>{c.preventDefault(),t.querySelector(".contacts-page__toggle_active")&&t.querySelector(".contacts-page__toggle_active").classList.remove("contacts-page__toggle_active"),e.classList.add("contacts-page__toggle_active"),t.querySelector(".contacts-page__content_active")&&t.querySelector(".contacts-page__content_active").classList.remove("contacts-page__content_active"),t.querySelector(e.getAttribute("href")).classList.add("contacts-page__content_active")}))}));[...t.querySelectorAll(".contacts-content__subtabs-toggle")].map((e=>{e.addEventListener("click",(c=>{c.preventDefault(),t.querySelector(".contacts-content__subtabs-toggle_active")&&t.querySelector(".contacts-content__subtabs-toggle_active").classList.remove("contacts-content__subtabs-toggle_active"),e.classList.add("contacts-content__subtabs-toggle_active"),t.querySelector(".contacts-content__subtabs-content_active")&&t.querySelector(".contacts-content__subtabs-content_active").classList.remove("contacts-content__subtabs-content_active"),t.querySelector(e.getAttribute("href")).classList.add("contacts-content__subtabs-content_active")}))}))},bindFeedbackForm=t=>{if(!t)return!1;for(const e of t.querySelectorAll('input[type="tel"]'))Inputmask&&Inputmask({mask:["+7 999 999-99-99","8 999 999-99-99"],showMaskOnHover:!0}).mask(e);const e=t.querySelector(".form__item_text"),c=e.innerHTML;t.addEventListener("submit",(n=>{n.preventDefault(),t.querySelector('[type="submit"]').setAttribute("disabled","disabled"),fetch(t.getAttribute("action"),{method:"POST",body:new FormData(t)}).then((t=>t.json())).then((({success:n})=>{n?(showMessageModal("за ваш отзыв. Это помогает делать наш сервис лучше."),t.reset(),setTimeout((()=>{t.querySelector('[type="submit"]').removeAttribute("disabled")}),1e4)):(e.innerHTML="Не удалось отправить отзыв. Пожалуйста, попробуйте ещё раз.",setTimeout((()=>{e.innerHTML=c}),15e3))})).catch((()=>{e.innerHTML="Не удалось отправить отзыв. Пожалуйста, попробуйте ещё раз.",setTimeout((()=>{e.innerHTML=c}),15e3)}))}))};window.addEventListener("DOMContentLoaded",(()=>{bindContactsTabs(document.querySelector(".contacts-page")),Fancybox.bind("[data-fancybox]",{});for(const t of document.querySelectorAll(".form_feedback"))bindFeedbackForm(t)}));