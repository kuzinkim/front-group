{"version":3,"file":"compare.min.js","names":["bindCompareItemsSlider","swiperNode","index","prevBtn","parentElement","querySelector","nextBtn","pagination","swiperInitial","Swiper","navigation","prevEl","nextEl","el","type","breakpoints","slidesPerView","cloneSwiper","node","clone","cloneNode","classList","add","after","initialSlide","window","matchMedia","matches","clonedSwiper","createAdaptiveStickyHeader","addEventListener","clonedSwipers","document","querySelectorAll","length","map","swiper","remove","stickyHeaders","header","bindCompareTabs","toggles","toggle","e","preventDefault","target","getAttribute","activeBtn","activeContent","scrollIntoView","behavior","root","createElement","container","append","createSwiper","controlFor","slides","swiperWrapper","setAttribute"],"sources":["helpers/collapseText.js","components/main-page/brandsTab.js"],"sourcesContent":["const collapseChildItems = function (selector, setOptions) {\n    const blocks = document.querySelectorAll(selector + ':not(.collapseElement)');\n    const options = {\n        children: setOptions.children || '*',                   // html selector (string)\n        targetHeight: setOptions.targetHeight || null,          // height block (number)\n        targetCount: setOptions.targetCount || null,            // count childrens (number)\n        reduceHeight: setOptions.reduceHeight || 0,             // value reduce height (number)\n        buttonClass: setOptions.buttonClass || '',              // button (string)\n        buttonMore: setOptions.buttonMore || 'Смотреть еще',    // button (string)\n        buttonLess: setOptions.buttonLess || 'Скрыть',          // button (string)\n    }\n\n    if (!blocks[0]) return false;\n\n    for (let i = 0; i < blocks.length; i++) {\n        const block = blocks[i];\n        if (options.targetHeight !== null) {\n            initCollapseHeight(block);\n            initEvents(block, 'height');\n        } else if (options.targetCount !== null) {\n            initCollapseItems(block);\n            initEvents(block, 'count');\n        }\n    }\n\n    function initCollapseHeight(block) {\n        const blockHeight = block.offsetHeight;\n\n        if (blockHeight > options.targetHeight) {\n            htmlStructure(block, 'collapseElement_height');\n\n            block.querySelector('[data-collapse-element-wrap]').style.height = options.targetHeight - options.reduceHeight + 'px';\n        }\n    }\n\n    function initCollapseItems(block) {\n        if (block.querySelectorAll(options.children).length > options.targetCount) {\n            htmlStructure(block);\n\n            const childrens = block.querySelectorAll(options.children); // !!! important after fn htmlStructure\n\n            for (let i = 0; i < childrens.length; i++) {\n                if (i + 1 > options.targetCount) {\n                    childrens[i].classList.add('collapseElement__hidden');\n                }\n            }\n        }\n    }\n\n    function htmlStructure(block, addClass) {\n        block.classList.add('collapseElement', 'collapseElement_hide');\n        addClass && block.classList.add(addClass);\n        block.innerHTML = htmlContent(block);\n    }\n\n    function htmlContent(block) {\n        const content = '<div class=\"collapseElement__content\" data-collapse-element-content>' + block.innerHTML + '</div>';\n        const button = '<button class=\"collapseElement__button ' + options.buttonClass + '\" type=\"button\" data-collapse-element-button><span>' + options.buttonMore + '</span><span>' + options.buttonLess + '</span></button>';\n        const newContent = '<div class=\"collapseElement__wrap\" data-collapse-element-wrap>' + content + '</div>' + button;\n\n        return newContent;\n    }\n\n    function initEvents(block, action) {\n        const button = block.querySelector('[data-collapse-element-button]');\n\n        button && button.addEventListener('click', function (e) {\n            e.preventDefault();\n            if (block.classList.contains('collapseElement_hide')) {\n                block.classList.remove('collapseElement_hide');\n                if (action === 'height') {\n                    const wrap = block.querySelector('[data-collapse-element-wrap]');\n                    const contentHeight = block.querySelector('[data-collapse-element-content]').offsetHeight;\n                    wrap.style.height = contentHeight + 'px';\n                    setTimeout(function () {\n                        wrap.style.height = 'auto';\n                    }, 200);\n                }\n            } else {\n                block.classList.add('collapseElement_hide');\n                if (action === 'height') {\n                    const wrap = block.querySelector('[data-collapse-element-wrap]');\n                    const wrapHeight = wrap.offsetHeight;\n                    wrap.style.height = wrapHeight + 'px';\n                    setTimeout(function () {\n                        wrap.style.height = options.targetHeight - options.reduceHeight + 'px';\n                    }, 0)\n                }\n            }\n        });\n    }\n}","window.addEventListener('load', function(){\n    let brandTabs = document.querySelectorAll('[data-brand-tab]')\n    let brandContent = document.querySelectorAll('[data-brand-content]')\n    let brandContentWrap = document.querySelector('.js-wrap-content')\n    let brandBg = document.querySelector('.js-bg-content')\n    let brandClose = document.querySelector('.js-close-content')\n\n    function removeActiveClass() {\n        brandTabs.forEach(function(tab){\n            tab.classList.remove('is-active')\n        })\n\n        brandContent.forEach(function(conten){\n            conten.classList.remove('is-active')\n        })\n    }\n\n    function brandsTabToogle() {\n\n        brandTabs.forEach(function(tab){\n            let dataTab = tab.getAttribute('data-brand-tab')\n\n            tab.addEventListener('click', function(e){\n                e.preventDefault();\n                removeActiveClass();\n                this.classList.add('is-active')\n\n                brandContent.forEach(function(content){\n                    let dataContent = content.getAttribute('data-brand-content')\n\n                    if(dataTab == dataContent){\n                        content.classList.add('is-active');\n\n                        if(window.matchMedia(\"(max-width: 495px)\").matches){\n                            let contentBody = content.querySelector('[data-brand-wrap]')\n\n                            if(contentBody.offsetHeight > 124){\n                                collapseChildItems('[data-brand-wrap]', {\n                                    targetHeight: 124,\n                                    buttonMore: 'Развернуть',\n                                    buttonLess: 'Свернуть'\n                                });\n                            }\n                        }\n                    }\n                })\n\n                if(window.matchMedia(\"(max-width: 1199px)\").matches){\n                    brandBg.classList.add('is-open')\n                    brandContentWrap.classList.add('is-open')\n                }\n            })\n        })\n    }\n\n    brandsTabToogle();\n\n    brandBg.addEventListener('click', function(){\n        brandBg.classList.remove('is-open')\n        brandContentWrap.classList.remove('is-open')\n    })\n\n    brandClose.addEventListener('click', function(){\n        brandBg.classList.remove('is-open')\n        brandContentWrap.classList.remove('is-open')\n    })\n})\n"],"mappings":"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"}