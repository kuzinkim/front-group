const collapseChildItems=function(e,t){const n=document.querySelectorAll(e+":not(.collapseElement)"),l={children:t.children||"*",targetHeight:t.targetHeight||null,targetCount:t.targetCount||null,reduceHeight:t.reduceHeight||0,buttonClass:t.buttonClass||"",buttonMore:t.buttonMore||"Смотреть еще",buttonLess:t.buttonLess||"Скрыть"};if(!n[0])return!1;for(let e=0;e<n.length;e++){const t=n[e];null!==l.targetHeight?(s(t),c(t,"height")):null!==l.targetCount&&(a(t),c(t,"count"))}function s(e){e.offsetHeight>l.targetHeight&&(o(e,"collapseElement_height"),e.querySelector("[data-collapse-element-wrap]").style.height=l.targetHeight-l.reduceHeight+"px")}function a(e){if(e.querySelectorAll(l.children).length>l.targetCount){o(e);const t=e.querySelectorAll(l.children);for(let e=0;e<t.length;e++)e+1>l.targetCount&&t[e].classList.add("collapseElement__hidden")}}function o(e,t){e.classList.add("collapseElement","collapseElement_hide"),t&&e.classList.add(t),e.innerHTML=function(e){const t='<div class="collapseElement__content" data-collapse-element-content>'+e.innerHTML+"</div>",n='<button class="collapseElement__button '+l.buttonClass+'" type="button" data-collapse-element-button><span>'+l.buttonMore+"</span><span>"+l.buttonLess+"</span></button>";return'<div class="collapseElement__wrap" data-collapse-element-wrap>'+t+"</div>"+n}(e)}function c(e,t){const n=e.querySelector("[data-collapse-element-button]");n&&n.addEventListener("click",(function(n){if(n.preventDefault(),e.classList.contains("collapseElement_hide")){if(e.classList.remove("collapseElement_hide"),"height"===t){const t=e.querySelector("[data-collapse-element-wrap]"),n=e.querySelector("[data-collapse-element-content]").offsetHeight;t.style.height=n+"px",setTimeout((function(){t.style.height="auto"}),200)}}else if(e.classList.add("collapseElement_hide"),"height"===t){const t=e.querySelector("[data-collapse-element-wrap]"),n=t.offsetHeight;t.style.height=n+"px",setTimeout((function(){t.style.height=l.targetHeight-l.reduceHeight+"px"}),0)}}))}};window.addEventListener("load",(function(){let e=document.querySelectorAll("[data-brand-tab]"),t=document.querySelectorAll("[data-brand-content]"),n=document.querySelector(".js-wrap-content"),l=document.querySelector(".js-bg-content"),s=document.querySelector(".js-close-content");e.forEach((function(s){let a=s.getAttribute("data-brand-tab");s.addEventListener("click",(function(s){s.preventDefault(),e.forEach((function(e){e.classList.remove("is-active")})),t.forEach((function(e){e.classList.remove("is-active")})),this.classList.add("is-active"),t.forEach((function(e){let t=e.getAttribute("data-brand-content");a==t&&(e.classList.add("is-active"),window.matchMedia("(max-width: 495px)").matches)&&e.querySelector("[data-brand-wrap]").offsetHeight>124&&collapseChildItems("[data-brand-wrap]",{targetHeight:124,buttonMore:"Развернуть",buttonLess:"Свернуть"})})),window.matchMedia("(max-width: 1199px)").matches&&(l.classList.add("is-open"),n.classList.add("is-open"))}))})),l.addEventListener("click",(function(){l.classList.remove("is-open"),n.classList.remove("is-open")})),s.addEventListener("click",(function(){l.classList.remove("is-open"),n.classList.remove("is-open")}))}));
//# sourceMappingURL=brands-page.min.js.map
